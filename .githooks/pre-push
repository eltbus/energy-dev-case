#!/bin/bash

# Check if there are any changes in the working directory
if [[ $(git status --porcelain) ]]; then
  # Stash any changes before testing, and pop after testing
  git stash -q
  make check-format
  exit_code=$?
  git stash pop -q

else
  make check-format
  exit_code=$?
fi

exit $exit_code
